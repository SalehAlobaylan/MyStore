<!-- <ng-template #noCart>
    <div class="empty-cart-message">
    Cart is Empty! Please, <a routerLink="/"> add product to cart</a>. 
    </div>
</ng-template> -->

<!-- <h2>Cart</h2>
<div *ngFor="let item of items">
  <p>{{ item.name }} - ${{ item.price }}</p>
</div>
<button (click)="checkout()">Checkout</button> -->

<div class="cart">
  <h2>Your Cart</h2>
  <div *ngFor="let item of items$ | async" class="cart-item">
    <img [src]="item.images | firstImage" [alt]="item.name" />
    <div class="cart-item-details">
      <h3>{{ item.name }}</h3>
      <p>{{ item.price | currency }}</p>
      <select
        [(ngModel)]="item.quantity"
        (ngModelChange)="updateQuantity(item)"
        class="form-select"
        style="width: 100px; margin: 1em"
      >
        <option [value]="1">1</option>
        <option [value]="2">2</option>
        <option [value]="3">3</option>
        <option [value]="4">4</option>
        <option [value]="5">5</option>
      </select>
    </div>
  </div>
  <div class="cart-footer" *ngIf="(items$ | async)?.length">
    <p class="total">Total: {{ total | currency }}</p>
    <button (click)="checkout()">Checkout</button>
  </div>
  <div *ngIf="!(items$ | async)?.length">
    <p>Your cart is empty</p>
  </div>
</div>
